<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://unpkg.com/@tailwindcss/browser@4"></script>
    <link rel="stylesheet" href="/styles/style.css">
</head>

<body>

    <% if (added.length > 0) {%>
        <div class="absolute w-[180px] h-[40px] top-2 right-1/2 translate-x-1/2 rounded-lg bg-blue-500 text-white flex justify-center items-center text-sm"><%= added %></div>
    <%} %>

    <nav class='flex justify-between items-center px-20 h-[80px] border-b'>
        <a href="#" class='font-medium text-3xl'>Shop.</a>
        <div class='flex gap-12'>
            <div class='flex gap-5 font-medium text-base'>
                <div><a href="/">Home</a></div>
                <div><a href="/user/cart">Cart</a></div>
            </div>
            <div class='flex gap-5 font-medium text-base'>
                <div>My Account</div>
                <% if (token.length > 0) {%>
                    <div class="text-red-500"><a href="/user/logout">LogOut</a></div>
                <%} else {%>
                    <div class="text-blue-500"><a href="/authentication">LogIn</a></div>
                <%} %>
            </div>
        </div>
    </nav>

    <main class='flex'>
        <aside class='flex flex-col h-[80vh] justify-between px-16 py-6 w-[18%]'>
            <div class='flex flex-col gap-10'>
                <div class='flex gap-3 items-center'>
                    <h2 class='text-xl font-medium'>Short By:</h2>
                    <select name="" id="" class='border border-[#b3b6b7] outline-0 rounded-md px-2 py-1'>
                        <option value="popular">Popular</option>
                        <option value="newest">Newest</option>
                    </select>
                </div>
                <ul class='flex flex-col gap-1.5 font-light'>
                    <li>New Collection</li>
                    <li class='font-medium'>All Products</li>
                    <li>Discounted Products</li>
                </ul>
            </div>

            <div class='font-light'>
                <h2 class='font-medium mb-2 text-lg'>Filter By:</h2>
                <h2 class='font-medium'>Abability</h2>
                <h2>Discount</h2>
            </div>
        </aside>


        <section class="text-gray-600 body-font w-[82%]">
            <div class="container px-5 py-16 mx-auto">
                <div class="flex flex-wrap gap-x-6 gap-y-8 -m-4">
                    <% products.forEach( element => {%>
                        <div class="lg:w-[232px] md:w-1/3 p-4 w-full relative border border-[#ecf0f1] rounded-lg">
                            <a class="block relative h-48 rounded overflow-hidden">
                                <img alt="ecommerce" class="object-cover object-center w-full h-full block"
                                    src="data:image/jpeg;base64,<%= element.image.toString('base64') %>">
                            </a>
                            <div class="mt-4">
                                <h3 class="text-gray-500 text-xs tracking-widest title-font mb-1"><%= element.brand %></h3>
                                <h2 class="text-gray-900 title-font text-lg font-medium"><%= element.name %></h2>
                                <p class="mt-1">$<%= element.price %></p>
                            </div>
                            <a href="/user/cart/<%= element._id %>"
                                class='w-[35px] h-[35px] border-[1px] border-[#979a9a] hover:border-[#626567] hover:scale-105 rounded-full flex justify-center items-center absolute bottom-[20px] cursor-pointer right-[26px]'>
                                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
                                    fill="#000000">
                                    <path d="M440-440H200v-80h240v-240h80v240h240v80H520v240h-80v-240Z" />
                                </svg></a>
                        </div>
                    <%}); %>

                </div>
            </div>
        </section>

    </main>
</body>

</html>